<script>
  
  publishFeature = {
    published: [],
    listeners: {},
    init: function() {
      this.publishProperties();
      this.listenListeners();
    },
    publishProperties: function() {
      this.published.forEach(this.publish, this)
    },
    publish: function(property) {
      this.publishProperty(property);
      var watchName = property + 'Changed';
      if (watchName in this) {
        this.watch(property, this[watchName]);
      }
    },
    eventBind: function(event, node, value, model, property) {
      node.addEventListener(event, function(e) {
        model[property] = e.target[value];
        Polymer.log.events && console.log('[eventBind]: %s.%s = %s', 
          e.target.localName, value, e.target[value]);
      });
    },
    listenListeners: function() {
      for (var n in this.listeners) {
        this.listen(n, this.listeners[n]);
      }
    },
    listen: function(event, methodName) {
      this.addEventListener(event, this[methodName].bind(this));
    },
    bindModel: function(model, properties) {
      properties.forEach(function(p) {
        this.bindProperty(p, p, model);
      }, this);
    }
  };

  Base.features.push(publishFeature);
  
</script>
