<template>

  <style>
    :host {
      /*
      display: block;
      width: 210px;
      height: 245px;
      margin: 4px;
      */
      border: 1px inset silver;
      position: relative;
    }
    [thumb] {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }
    span {
      position: absolute;
      right: 0;
      bottom: 0;
      left: 0;
      height: 2em;
      padding: 8px; 
      text-align: center;
      background: rgba(255, 255, 255, 0.7);
      font-weight: bold;
    }  
  </style>

  <div thumb flex style*="{{backgroundImage: background}}"></div>
  <span vertical center-justified layout>[[item.topic]]</span>  
  
</template><script>

Polymer({
  name: 'pi-topic-item',
  _attributes: 'vertical layout',
  published: [
    'item'
  ],
  watched: {
    'item': 'updateBindings'
  },
  computed: {
    'visibility': 'computeVisibility(item)',
    'background': 'computeBackground(item)'
  },
  computeVisibility: function(item) {
    return item && Boolean(item.topic) ? '' : 'hidden';
  },
  visibilityChanged: function(visibility) {
    this.style.visibility = visibility;
  },
  computeBackground: function(item) {
    return item && item.thumb && 'url(' + item.thumb + ')';
    //return item && item.topic && 'url(assets/' + item.topic.toLowerCase() + '.jpg)';
  }
});

</script>
